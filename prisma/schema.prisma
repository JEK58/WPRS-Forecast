// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    binaryTargets = ["native", "debian-openssl-3.0.x"]
    provider      = "prisma-client-js"
}

datasource db {
    provider = "postgres"
    url      = env("DATABASE_URL")
}

// TODO: Type the gender column "F" | "M"
model Ranking {
    id             Int      @id
    createdAt      DateTime @default(now())
    updatedAt      DateTime @updatedAt
    name           String
    normalizedName String?
    gender         String
    points         Float
    rank           Int
    nation         String
    date           DateTime
}

model Usage {
    id             String    @id @default(cuid())
    createdAt      DateTime  @default(now())
    updatedAt      DateTime  @updatedAt
    startDate      DateTime?
    endDate        DateTime?
    compUrl        String
    pilotsUrl      String?
    wprs           Float?
    potentialWprs  Float?
    compTitle      String?
    processingTime Float?
    error          String?
    meta           Json?
}

model CompRanking {
    id                 Int      @id @default(autoincrement())
    period             String
    name               String
    link               String?
    discipline         String
    ta                 Float
    pn                 Float
    pq                 Float
    td                 Float
    tasks              Int
    pilots             Int
    pilotsLast12Months Int
    compsLast12Months  Int
    daysSinceCompEnd   Int
    lastScore          Float
    winnerScore        Float
    resultsUpdated     DateTime
}
